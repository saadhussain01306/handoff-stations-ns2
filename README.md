# Steps to run the File

# ns simulation.tcl

OR

# xgraph -x "Time (s)" -y "Hand-off count" -tk -P handoff_count.dat

This code simulates a hand-off management system in a wireless communication network. Its functionality includes:

1. **Minimum and Maximum Functions**: Two procedures `min` and `max` are defined to find the minimum and maximum of two numbers respectively. These functions will be used later in the code to ensure that users stay within the coverage area of base stations.

2. **Simulation Parameters**: Several simulation parameters are set, including the number of base stations (`num_bs`), the number of users (`num_users`), simulation time in seconds (`sim_time`), and the interval between user movements in seconds (`movement_interval`).

3. **Hand-off Count Initialization**: `handoff_count` variable is initialized to keep track of the number of hand-offs that occur during the simulation.

4. **Base Station and User Initialization**:
   - Base stations (`bs`) are randomly positioned within the coverage area (0,100) using a loop.
   - Users (`user`) are also randomly positioned within the coverage area (0,100) and their initial base station indices (`user_cur_bs`) are set to -1.

5. **Output File Creation**: A file named "handoff_count.dat" is created to store the hand-off count over time.

6. **User Movement and Hand-off Management Simulation**:
   - A loop simulates user movement and hand-off management over time (`sim_time`).
   - Inside the loop, user movement is simulated by updating their positions randomly within a small range using a nested loop.
   - Hand-off management based on the OPI-RLI-HO (Optimization Parameter Interpolation-Received Level Indicator-Handover) scheme is performed for each user:
     - The nearest base station to each user is found by calculating the Euclidean distance between the user's position and each base station's position.
     - If the nearest base station is different from the user's current base station (`user_cur_bs`), a hand-off is considered necessary. The `handoff_count` is incremented, and the current base station index for the user is updated.
   - The current hand-off count at each simulation time step is written to the output file.

7. **Output File Closure**: The output file is closed after the simulation loop.

8. **Printing Total Hand-offs**: The total number of hand-offs is printed to the console.


The xgraph plot generated by this code visualizes the hand-off count over time during the simulation.This includes:

- **X-Axis (Time)**: The x-axis represents time in seconds. It spans the duration of the simulation from the start time (0 seconds) to the end time (`sim_time`), which in this case is 1000 seconds.

- **Y-Axis (Hand-off Count)**: The y-axis represents the hand-off count. It shows the cumulative number of hand-offs that have occurred up to each point in time during the simulation. 

- **Data Points**: Each data point on the plot corresponds to a specific time during the simulation and shows the corresponding hand-off count at that time. These data points are generated at regular intervals determined by the `movement_interval`.

- **Trend**: The plot provides insights into the trend of hand-off occurrences over time. It helps to visualize how the hand-off count changes as users move within the network coverage area and potentially switch between base stations.

- **Interpretation**: A rising trend in the plot indicates an increasing number of hand-offs over time, suggesting higher mobility or congestion within the network. Conversely, a relatively flat trend may indicate stable user movement patterns with fewer hand-offs.

- **Insights**: By analyzing the plot, one can gain insights into the efficiency and performance of the hand-off management system. High peaks in the plot may indicate instances of frequent hand-offs, which could impact network stability and user experience. On the other hand, a steady or gradually increasing trend may indicate an effective hand-off management strategy.

In summary, the xgraph plot provides a visual representation of the hand-off count dynamics over the simulation period, enabling observation of trends and patterns in hand-off occurrences within the wireless communication network.

9. **Plotting Hand-off Count Over Time**: Finally, the `xgraph` command is used to plot the hand-off count over time with the generated data file "handoff_count.dat". The x-axis represents time in seconds, and the y-axis represents the hand-off count.

In summary, this code simulates the movement of users in a wireless communication network and tracks the occurrence of hand-offs between base stations as users move around. It then outputs the total number of hand-offs and plots the hand-off count over time.

![Screenshot from 2024-04-24 02-34-34](https://github.com/saadhussain01306/handoff-stations-ns2/assets/118361679/40403f26-8a61-4eaa-9b3b-3d2d6028b56c)


# Dataset Creation Explanation

This section provides an explanation of how the dataset "dataset.txt" was created using a Tcl script.

## Script Explanation

The dataset was generated using a Tcl script named "generate_dataset.tcl". Here's a brief overview of how the script works:

1. **Simulation Parameters**: 
    - The script sets various simulation parameters such as the number of base stations, number of users, simulation time, and movement interval.

2. **Base Station and User Initialization**: 
    - Base station locations and user initial positions are randomly generated within a 100x100 grid.

3. **Simulation Execution**:
    - The script simulates user movements and hand-off management over the specified simulation time.
    - Users move randomly within the grid, and their positions are updated accordingly.
    - Hand-off management is performed based on a certain scheme (OPI-RLI-HO).

4. **Data Logging**:
    - During each iteration of the simulation loop, the time and the current hand-off count are logged to the "dataset.txt" file.

5. **CSV Conversion**:
    - After the simulation is complete, the script converts the "dataset.txt" file into a CSV format named "dataset.csv" for easier data manipulation and analysis.

6. **Visualization**:
    - Additionally, the script utilizes xgraph to plot the hand-off count over time using the original "dataset.txt" file.

## Files generation

- **generate_dataset.tcl**: The Tcl script used to generate the dataset.
- **dataset.txt**: The original dataset file containing time and hand-off count information.
- **dataset.csv**: A CSV version of the dataset for easier analysis.


## Usage
To run the Tcl script and generate the dataset, follow these steps:

1. Make sure you have Tcl,nam,ns installed on your system.
2. Execute the script using the Tcl interpreter: `ns generate_dataset.tcl`.
3. After execution, you'll find the generated dataset files ("dataset.txt" and "dataset.csv") in the same directory.

